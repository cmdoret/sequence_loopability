schema: '2.0'
stages:
  extract:
    cmd: python ./src/01_extraction.py
    deps:
    - path: data/chip/cov/norm
      md5: f013c1781789f57d1a4332f301d60884.dir
      size: 2423115006
      nfiles: 28
    - path: data/genome/saccer3_sgd_2mu.fa
      md5: 844239f437f058f7da5dda8c09462679
      size: 12366275
    - path: data/hic/loops.bed
      md5: 5ab0ba742f123dd8afd06487420528d2
      size: 16570
    - path: src/01_extraction.py
      md5: c8ee709fcfc3878325c6591952565d3e
      size: 1344
    outs:
    - path: outputs/loops_extracted.pkl
      md5: 96dee711e35321abd9a6e0616915a72d
      size: 38066901
  embedding:
    cmd: python ./src/00_train_embedding.py
    deps:
    - path: data/genome/saccer3_sgd_2mu.fa
      md5: 844239f437f058f7da5dda8c09462679
      size: 12366275
    - path: src/00_train_embedding.py
      md5: d2a9b08712babb70638d240f3ce9e3a2
      size: 2405
    outs:
    - path: outputs/embeddings/yeast_bpe_tokenizer.json
      md5: fba56ddaaa1fddde99001fd1a73fe23d
      size: 1061082
    - path: outputs/embeddings/yeast_w2v_embedding.vec
      md5: fe6a960ca0c85cb5a18e2a5bf9bc7c60
      size: 48136339
  feature_eng:
    cmd: python ./src/02_feature_eng.py
    deps:
    - path: outputs/embeddings/yeast_bpe_tokenizer.json
      md5: fba56ddaaa1fddde99001fd1a73fe23d
      size: 1061082
    - path: outputs/embeddings/yeast_w2v_embedding.vec
      md5: fe6a960ca0c85cb5a18e2a5bf9bc7c60
      size: 48136339
    - path: outputs/loops_extracted.pkl
      md5: 96dee711e35321abd9a6e0616915a72d
      size: 38066901
    - path: src/02_feature_eng.py
      md5: ac0ad038c91a1cf38a8a30ec74dacd9e
      size: 2051
    outs:
    - path: outputs/loops_features.pkl
      md5: 295413cba4bc87612143e77d6caa4389
      size: 39374637
